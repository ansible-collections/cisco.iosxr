---

merged:
  commands:
    - router bgp 65536
    - address-family ipv4 unicast
    - advertise best-external
    - allocate-label all
    - bgp attribute-download
    - bgp scan-time 20
    - dynamic-med interval 10
    - redistribute application test1 metric 10
    - redistribute connected metric 10
    - redistribute isis test3 metric 4
  after:
    as_number: "65536"
    address_family:
      - afi: "ipv4"
        af_modifier: "unicast"
        dynamic_med: 10
        redistribute:
          application:
            name: "test1"
            metric: 10
          connected:
            metric: 10
          isis:
            name: "test3"
            metric: 4
        bgp:
          scan_time: 20
          attribute_download: true
        advertise_best_external: true
        allocate_label:
          all: true


deleted:
  after:
    as_number: "65536"


overridden:
  commands:
    - router bgp 65536
    - address-family ipv4 unicast
    - no advertise best-external
    - no allocate-label all
    - no bgp attribute-download
    - dynamic-med interval 4
    - no address-family ipv4 mvpn

replaced:
  commands:
    - router bgp 65536
    - address-family ipv4 unicast
    - no advertise best-external
    - no allocate-label all
    - no bgp attribute-download
    - dynamic-med interval 4

rendered:
  commands:
    - router bgp 65536
    - address-family ipv4 unicast
    - advertise best-external
    - allocate-label all
    - bgp attribute-download
    - bgp scan-time 20
    - dynamic-med interval 10
    - redistribute application test1 metric 10
    - redistribute connected metric 10
    - redistribute isis test3 metric 4
